name: switch-power-waterheater
components:
  - id: main
    capabilities:
      - id: switch
        version: 1
      - id: powerMeter
        version: 1
      - id: temperatureMeasurement
        version: 1
      - id: waterSensor
        version: 1
      - id: voltageMeasurement
        version: 1
      - id: currentMeasurement
        version: 1
      - id: energyMeter
        version: 1
      - id: firmwareUpdate
        version: 1
      - id: refresh
        version: 1
    categories:
      - name: SmartPlug

preferences:
  - name: "lowTempProtection"
    title: "Low Water Temperature Protection"
    description: "Minimum temperature threshold to restart water heater"
    required: false
    preferenceType: enumeration
    definition:
      options:
        0: "OFF"
        45: "45 °C"
        46: "46 °C"
        47: "47 °C"
        48: "48 °C"
        49: "49 °C"
        50: "50 °C"
        51: "51 °C"
        52: "52 °C"
        53: "53 °C"
        54: "54 °C"
        55: "55 °C"
      default: 45

  # - title: "Min Measured Temperature"
  #   name: "minMeasuredTempp"
  #   description: "Lowest temperature recorded (°C) - Read Only"
  #   required: false
  #   preferenceType: number
  #   definition:
  #     minimum: -50
  #     maximum: 100
  #     default: 0
      
  # - title: "Max Measured Temperature"
  #   name: "maxMeasuredTempp"
  #   description: "Highest temperature recorded (°C) - Read Only"
  #   required: false
  #   preferenceType: number
  #   definition:
  #     minimum: -50
  #     maximum: 100
  #     default: 0
  
  
  
  # Tank Size not used yet
  # - name: "tankSize"
  #   title: "Tank Size"
  #   description: "Select the size of the hot water tank"
  #   required: false
  #   preferenceType: enumeration
  #   definition:
  #     options:
  #       40: "40 Gal"
  #       50: "50 Gal"
  #       60: "60 Gal"
  #       80: "80 Gal"
  #     default: 40